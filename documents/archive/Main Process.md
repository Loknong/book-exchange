| No. | Process | Activity | APIs Used | Description | Database Interaction | Table | Columns Queried/Updated | Sample Data |
| --- | ------- | -------- | --------- | ----------- | -------------------- | ----- | ----------------------- | ----------- |
| 1 | User Lands on the App | User visits the landing page. | None | The landing page provides an overview of the app, its features, and benefits. | None | | | |
| 2 | Browse Books | User browses the book shelf to see all available books. | GET /api/books | The user can see a list of books available for exchange, with options to search, filter, and sort the books. | Queried | Books | bookId, title, author, genreId, bookView, bookCondition, thumbnail | [{ "bookId": 1, "title": "The Great Gatsby", "author": "F. Scott Fitzgerald", "genreId": 1, "bookView": 102, "bookCondition": "Good", "thumbnail": "great-gatsby.jpg" }] |
| 3 | Search and Filter Books | User searches and filters books. | GET /api/books | The user uses search and filter options to find specific books based on title, author, genre, etc. | Queried | Books | bookId, title, author, genreId, bookView, bookCondition, thumbnail | [{ "bookId": 1, "title": "The Great Gatsby", "author": "F. Scott Fitzgerald", "genreId": 1, "bookView": 102, "bookCondition": "Good", "thumbnail": "great-gatsby.jpg" }] |
| 4 | View Book Details | User views details of a specific book. | GET /api/books/:bookId | The user clicks on a book card to view more detailed information about the book. | Queried | Books | bookId, title, author, genreId, bookView, bookCondition, description, thumbnail | { "bookId": 1, "title": "The Great Gatsby", "author": "F. Scott Fitzgerald", "genreId": 1, "bookView": 102, "bookCondition": "Good", "description": "A novel set in the 1920s...", "thumbnail": "great-gatsby.jpg" } |
| 5 | Login or Signup | User logs in or signs up. | POST /api/auth/login, POST /api/auth/signup | If the user is not logged in and wants to make an offer, they are redirected to the login/signup page. | Inserted/Updated | Users | For Signup: { "userId": 1, "firstName": "John", "lastName": "Doe", "email": "john.doe@example.com", "username": "johndoe", "userPassword": "hashed_password", "credit": 0, "createdAt": "2024-06-05T12:34:56Z", "updatedAt": "2024-06-05T12:34:56Z" }, For Login: { "username": "johndoe", "userPassword": "hashed_password" } |
| 6 | Make an Offer | User makes an offer on a book. | POST /api/offers | The user submits an offer for the book they are interested in, which sends a notification to the book owner. | Inserted | Offers | { "offerId": 1, "bookId": 1, "offeredBy": 2, "offeredTo": 1, "status": "PENDING", "offerDetails": "Would you like to exchange this book?", "createdAt": "2024-06-05T12:34:56Z", "updatedAt": "2024-06-05T12:34:56Z" } |
| 7 | Owner Manages Offers | Book owner reviews and manages offers. | GET /api/offers, PUT /api/offers/:offerId | The owner reviews the offers received for their books and either accepts or rejects them. | Queried/Updated | Offers | Queried: [{ "offerId": 1, "bookId": 1, "offeredBy": 2, "offeredTo": 1, "status": "PENDING", "offerDetails": "Would you like to exchange this book?", "createdAt": "2024-06-05T12:34:56Z", "updatedAt": "2024-06-05T12:34:56Z" }], Updated: { "status": "ACCEPTED" } |
| 8 | Confirm Offer | Both users confirm the offer. | PUT /api/offers/:offerId | After the owner accepts an offer, both the owner and the offerer confirm their participation in the exchange. | Updated | Offers | { "status": "CONFIRMED" } |
| 9 | Create Transaction | System creates a transaction record. | POST /api/transactions | Once the offer is confirmed by both parties, a transaction record is created. | Inserted | Transactions | { "transactionId": 1, "offerId": 1, "status": "PENDING", "createdAt": "2024-06-05T12:34:56Z", "updatedAt": "2024-06-05T12:34:56Z" } |
| 10 | Payment and Address Details | Users provide payment details and addresses. | PUT /api/transactions/:transactionId | Both users enter their payment details and shipping addresses to proceed with the transaction. | Updated | Transactions | { "paymentDetails": { "amount": 20.00, "method": "PAYPAL", "status": "PENDING" }, "shippingAddress": { "user1": "123 Admin St, Booktown", "user2": "456 Admin Rd, Bookville" } } |
| 11 | Process Payment | System processes the payment. | PUT /api/transactions/:transactionId | The system processes the payment and updates the transaction status accordingly. | Updated | Transactions | { "status": "COMPLETED" } |
| 12 | Ship Books to Admin | Users ship their books to the admin. | None | Both users ship their books to the admin, who acts as an intermediary to ensure the books are exchanged securely. | None | | | |
| 13 | Admin Manages Book Status | Admin receives and manages books. | PUT /api/admin/transactions/:transactionId | The admin verifies the received books and updates the transaction status. | Updated | AdminManagement | { "adminStatus": "RECEIVED", "bookStatus": { "book1": "RECEIVED", "book2": "RECEIVED" } } |
| 14 | Ship Books to Users | Admin ships books to the respective users. | PUT /api/admin/transactions/:transactionId | After verification, the admin ships the books to the respective users. | Updated | AdminManagement | { "adminStatus": "SENT_TO_USER", "shippingStatus": { "book1": "SENT", "book2": "SENT" } } |
| 15 | Complete Transaction | Transaction is marked as completed. | PUT /api/transactions/:transactionId | Once both users receive their books, the transaction is marked as completed, and both users are notified. | Updated | Transactions | { "status": "COMPLETED" } |
